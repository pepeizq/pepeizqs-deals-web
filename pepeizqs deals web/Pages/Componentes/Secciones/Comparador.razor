@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Identity
@using pepeizqs_deals_web.Areas.Identity.Data

@inject UserManager<Usuario> UserManager
@inject SignInManager<Usuario> SignInManager

<div style="display: flex; flex-direction: column; gap: 20px;">
	<div>
		<div style="width: 50%;">
			@if (id1 == 0)
			{
				<input type="text" @oninput="TextoCambiarBuscadorPendientes" class="entrada-texto" />
			}
		</div>

		<div style="width: 50%;">

		</div>
	</div>
</div>


@code {

	#nullable disable

	[Parameter]
	public string idioma { get; set; }

	#nullable enable
	[Parameter]
	public string? ids { get; set; }
	#nullable disable

	[Parameter]
	public string usuarioId { get; set; }

	public int id1 = 0;
	public int id2 = 0;

	private Usuario usuario = new Usuario();

	protected override async Task OnInitializedAsync()
	{
		usuario = await UserManager.FindByIdAsync(usuarioId);		

		if (string.IsNullOrEmpty(ids) == false)
		{
			string[] ids2 = ids.Split(',');

			if (ids2.Length > 1)
			{
                id1 = int.Parse(ids2[0]);
				id2 = int.Parse(ids2[1]);
			}
            else if (ids2.Length == 1)
            {
                id1 = int.Parse(ids2[0]);
            }
		}
	}
}
